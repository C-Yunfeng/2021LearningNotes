前言

> Linux要和开发一起学，无论是后端开发，还是大数据开发。就像Python与机器学习的关系一样

### 一、虚拟机配置

安装虚拟机，https://zhuanlan.zhihu.com/p/154108300

设置Terminal启动的默认位置

VMWare和win共享剪贴板

https://blog.csdn.net/u010913204/article/details/100905611

Windows的putty连接Linux拒绝访问https://blog.csdn.net/wanderbing/article/details/86563341

Linux安装node和npmhttps://www.cnblogs.com/JahanGu/p/12917893.html

### 二、Linux知识

Linux的后缀名https://blog.csdn.net/li_xunhuan/article/details/90932399

vim和gedit的区别https://www.baidu.com/s?ie=UTF-8&wd=gedit%E5%92%8Cvim

shell，bash，terminal的区别https://www.zhihu.com/question/328533621/answer/711398711

ipconfig和ifconfig的区别https://www.zhihu.com/question/21331450

sudo怎么读，Superuser do，苏豆？苏度？

为什么限制密码长度https://www.zhihu.com/question/19982422

执行Python文件：`./test.py`，需要在文件开头加上`#!/usr/bin/python`

Linux怎么读https://www.zhihu.com/question/20156451/answer/95394541

### 三、文件和目录命令

---

> 0507

---



#### 1. 常用命令

| 序号 | 命令           | 对应英文             | 作用                     |
| :--- | :------------- | :------------------- | :----------------------- |
| 01   | ls             | list                 | 查看当前文件夹下的内容   |
| 02   | pwd            | print wrok directory | 查看当前所在文件夹       |
| 03   | cd [目录名]    | change directory     | 切换文件夹               |
| 04   | touch [文件名] | touch                | 如果文件不存在，新建文件 |
| 05   | mkdir [目录名] | make directory       | 创建目录                 |
| 06   | rm [文件名]    | remove               | 删除指定的文件名         |
| 07   | clear          | clear                | 清屏                     |



#### 2. 终端命令格式

```bash
command [-options] [parameter]
```

说明：

- `command`：命令名，相应功能的英文单词或单词的缩写
- `[-options]`：选项，可用来对命令进行控制，也可以省略
- `parameter`：传给命令的参数，可以是 **零个**、**一个** 或者 **多个**

> `[]` 代表可选





#### 3. 查看目录

- `ls -a`，显示全部文件（包含隐藏）

- **.** 代表当前目录
- **..** 代表上一级目录

##### 1. 常用选项

| 参数 | 含义                                         |
| :--- | :------------------------------------------- |
| -a   | 显示指定目录下所有子目录与文件，包括隐藏文件 |
| -l   | 以列表方式显示文件的详细信息                 |
| -h   | 配合 -l 以人性化的方式显示文件大小           |

ls -lh，两个参数可以连着写，也可以反着写ls -hl

##### 2. 通配符

| 通配符 | 含义                                 | 例子             |
| :----- | :----------------------------------- | ---------------- |
| *      | 代表任意个数个字符                   | ls 1*，ls *1.txt |
| ?      | 代表任意一个字符，至少 1 个          | ls 1?3.txt       |
| []     | 表示可以匹配`字符组`中的任一一个     |                  |
| [abc]  | 匹配 a、b、c 中的任意一个            |                  |
| [a-f]  | 匹配从 a 到 f 范围内的的任意一个字符 |                  |

- 如果要匹配含有-的：

  ![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507143707.png)



#### 4. 切换目录

| 命令  | 含义                                     |
| :---- | :--------------------------------------- |
| cd    | 切换到当前用户的`主目录`(/home/用户目录) |
| cd ~  | 切换到当前用户的`主目录`(/home/用户目录) |
| cd .  | 保持在当前目录不变                       |
| cd .. | 切换到上级目录                           |
| cd -  | 可以在最近两次工作目录之间来回切换       |

##### 1. 绝对路径和相对路径

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507144703.png)



#### 5. 创建和删除

##### 1. touch

- 如果文件 **不存在**，可以创建一个空白文件
- 如果文件 **已经存在**，可以修改文件的末次修改日期

##### 2. mkdir

- 创建一个新的目录

| 选项 | 含义             |
| :--- | :--------------- |
| -p   | 可以递归创建目录 |

> **新建目录的名称** 不能与当前目录中 **已有的目录或文件** 同名

##### 3. rm

- 删除文件或目录

> 使用 `rm` 命令要小心，因为文件删除后不能恢复

| 选项 | 含义                                                  |
| :--- | :---------------------------------------------------- |
| -f   | 强制删除，忽略不存在的文件，无需提示                  |
| -r   | 递归地删除目录下的内容，**删除文件夹** 时必须加此参数 |

```bash
-r, -R, --recursive
   remove directories and their contents recursively
```



- rm同样可以使用通配符
- 在根目录下，rm -rf *，就跑路了



#### 6. 拷贝和移动

| 序号 | 命令               | 对应英文 | 作用                                 | case           |
| :--- | :----------------- | :------- | :----------------------------------- | -------------- |
| 01   | tree [目录名]      | tree     | 以树状图列出文件目录结构             | tree ~，tree a |
| 02   | cp 源文件 目标文件 | copy     | 复制文件或者目录                     |                |
| 03   | mv 源文件 目标文件 | move     | 移动文件或者目录／文件或者目录重命名 |                |

##### 1. tree

> 先要安装tree：`sudo apt install tree`

| 选项 | 含义       |
| :--- | :--------- |
| -d   | 只显示目录 |

##### 2. cp

- 二者的操作结果一样：

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507193646.png)

| 选项 | 含义                                                         |
| :--- | :----------------------------------------------------------- |
| -i   | 覆盖文件前提示【如果复制的文件已经存在，则提示】             |
| -r   | 若给出的源文件是目录文件，则 cp 将递归复制该目录下的所有子目录和文件，`目标文件必须为一个目录名` |

##### 3. mv

- `mv` 命令可以用来 **移动** **文件** 或 **目录**，也可以给 **文件或目录重命名**

| 选项 | 含义           |
| :--- | :------------- |
| -i   | 覆盖文件前提示 |

> 和rm，cp不同， 可以直接对目录操作



#### 7. 查看文件内容

| 序号 | 命令                 | 对应英文    | 作用                                                 |
| :--- | :------------------- | :---------- | :--------------------------------------------------- |
| 01   | cat 文件名           | concatenate | 查看文件内容、创建文件、文件合并、追加文件内容等功能 |
| 02   | more 文件名          | more        | 分屏显示文件内容                                     |
| 03   | grep 搜索文本 文件名 | grep        | 搜索文本文件内容                                     |

##### 1. cat

- `cat` 命令可以用来 **查看文件内容**、**创建文件**、**文件合并**、**追加文件内容** 等功能
- `cat` 会一次显示所有的内容，适合 **查看内容较少** 的文本文件

| 选项 | 含义               |
| :--- | :----------------- |
| -b   | 对非空输出行编号   |
| -n   | 对输出的所有行编号 |

> Linux 中还有一个 `nl` 的命令和 `cat -b` 的效果等价





##### 2. more

- `more` 命令可以用于分屏显示文件内容，每次只显示一页内容
- 适合于 **查看内容较多**的文本文件

使用 `more` 的操作键：

| 操作键   | 功能                 |
| :------- | :------------------- |
| 空格键   | 显示手册页的下一屏   |
| Enter 键 | 一次滚动手册页的一行 |
| b        | 回滚一屏             |
| f        | 前滚一屏             |
| q        | 退出                 |
| /word    | 搜索 **word** 字符串 |



##### 3. grep

- Linux 系统中 `grep(global search regular expression(RE) and print out the line)` 命令是一种强大的文本搜索工具
- `grep`允许对文本文件进行 **模式**查找，所谓模式查找，又被称为正则表达式，在就业班会详细讲解

| 选项 | 含义                                           |
| :--- | :--------------------------------------------- |
| -n   | 显示匹配行及行号                               |
| -v   | 显示不包含匹配文本的所有行（相当于求反invert） |
| -i   | 忽略大小写                                     |

> 当搜索的内容中有空格时，需要加双引号，如"hello world"

- 常用的两种模式查找

| 参数 | 含义                         |
| :--- | :--------------------------- |
| ^a   | 行首，搜寻以 **a** 开头的行  |
| ke$  | 行尾，搜寻以 **ke** 结束的行 |

> 以上可以一起使用，如`grep ^hello test.txt -vn`



#### 8. 其他



##### 1. `echo 文字内容`

- `echo` 会在终端中显示参数指定的文字，通常会和 **重定向** 联合使用

##### 2. 重定向 `>` 和 `>>`

- Linux 允许将命令执行结果 **重定向**到一个 **文件**
- 将本应显示在**终端上的内容** **输出／追加** 到**指定文件中**

其中

- `>` 表示输出，会覆盖文件原有的内容
- `>>` 表示追加，会将内容追加到已有文件的末尾



如，将输出内容保存至a文件里

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507202940.png)

如，追加内容至文件里

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507203025.png)

> 与touch相比，echo可以在创建文件的同时输入内容





##### 3. 管道 `|`

- Linux 允许将 **一个命令的输出** 可以**通过管道** 做为 **另一个命令的输入**
- 可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里 `|` 的左右分为两端，左端塞东西（写），右端取东西（读）

常用的管道命令有：

- `more`：分屏显示内容
- `grep`：在命令执行结果的基础上查询指定的文本



- 案例

  - `ls -hla ~ | more`，

  - `ls -lha ~ | grep Do`，过滤搜索结果

    ![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210507204020.png)





### 四、远程管理命令

> 0508

#### 1. 关机/重启

| 序号 | 命令               | 对应英文 | 作用           |
| :--- | :----------------- | :------- | :------------- |
| 01   | shutdown 选项 时间 | shutdown | 关机／重新启动 |

##### 1. `shutdown`

- `shutdown` 命令可以 **安全** **关闭** 或者 **重新启动系统**

| 选项 | 含义     |
| :--- | :------- |
| -r   | 重新启动 |

> 提示：
>
> - **不指定选项和参数**，默认表示 **1 分钟**之后 **关闭电脑**
> - 远程维护服务器时，最好不要关闭系统，而应该重新启动系统

- 常用命令示例

```bash
# 重新启动操作系统，其中 now 表示现在
$ shutdown -r now

# 立刻关机，其中 now 表示现在
$ shutdown now

# 系统在今天的 20:25 会关机
$ shutdown 20:25

# 系统再过十分钟后自动关机
$ shutdown +10

# 取消之前指定的关机计划
$ shutdown -c
```



#### 2. 查看和配置网卡信息

| 序号 | 命令        | 对应英文                      | 作用                              |
| :--- | :---------- | :---------------------------- | :-------------------------------- |
| 01   | ifconfig    | configure a network interface | 查看/配置计算机当前的网卡配置信息 |
| 02   | ping ip地址 | ping                          | 检测到目标 ip地址 的连接是否正常  |

##### 1. ipconfig

- `ifconfig` 可以查看／配置计算机当前的网卡配置信息

```bash
# 查看网卡配置信息
$ ifconfig

# 查看网卡对应的 IP 地址
$ ifconfig | grep inet
```

> 提示：一台计算机中有可能会有一个 **物理网卡** 和 **多个虚拟网卡**，在 Linux 中物理网卡的名字通常以 `ensXX` 表示

- `127.0.0.1` 被称为 **本地回环/环回地址**，一般用来测试本机网卡是否正常



##### 2. ping

```bash
# 检测到目标主机是否连接正常
$ ping IP地址

# 检测本地网卡工作正常
$ ping 127.0.0.1
```

- `ping` 一般用于检测当前计算机到目标计算机之间的网络 **是否通畅**，**数值越大，速度越慢**

> - `ping` 的工作原理与潜水艇的声纳相似，`ping` 这个命令就是取自 [声纳的声音](https://www.bilibili.com/video/BV14v411z7TU?from=search&seid=7345017999939867528)
> - 网络管理员之间也常将 `ping` 用作动词 —— **ping 一下计算机X，看他是否开着**

原理：网络上的机器都有 **唯一确定的 IP 地址**，我们给**目标 IP 地址**发送一个数据包，对方就要返回一个数据包，根据返回的数据包以及时间，我们可以确定目标主机的存在

> 提示：在 Linux 中，想要终止一个终端程序的执行，绝大多数都可以使用 `CTRL + C`



#### 3. 远程登录和复制文件



##### 1. SSH（重要）

在 Linux 中 SSH 是 **非常常用** 的工具，通过 **SSH 客户端** 我们可以连接到运行了 **SSH 服务器** 的远程机器上

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210508100121.png) 客户端**是一种使用 `Secure Shell（SSH）` 协议连接到远程计算机的软件程序

- `SSH`是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议
  - 利用 `SSH 协议` 可以有效**防止远程管理过程中的信息泄露**
  - 通过 `SSH 协议` 可以对所有传输的数据进行加密，也能够防止 DNS 欺骗和 IP 欺骗
- `SSH` 的另一项优点是传输的数据可以是经过压缩的，所以可以加快传输的速度

- 常见服务端口号列表：

  | 序号 | 服务       | 端口号 |
  | :--- | :--------- | :----- |
  | 01   | SSH 服务器 | 22     |
  | 02   | Web 服务器 | 80     |
  | 03   | HTTPS      | 443    |
  | 04   | FTP 服务器 | 21     |

- SSH的使用

  ```bash
  ssh [-p port] user@remote
  ```

  - `user` 是在远程机器上的用户名，如果不指定的话默认为当前用户
  - `remote` 是远程机器的地址，可以是 **IP**／**域名**，或者是 **后面会提到的别名**
  - `port` 是 **SSH Server 监听的端口**，如果不指定，就为默认值 `22`

  > 提示：
  >
  > - 使用 `exit` 退出当前用户的登录
  >
  > 注意：
  >
  > - `ssh` 这个终端命令只能在 `Linux` 或者 `UNIX` 系统下使用
  > - 如果在 `Windows` 系统中，可以安装 `PuTTY` 或者 `XShell` 客户端软件即可
  >
  > 提示：
  >
  > - 在工作中，SSH 服务器的端口号很有可能**不是 22**，如果遇到这种情况就需要使用 `-p` 选项，指定正确的端口号，否则无法正常连接到服务器

##### 2. scp（掌握）

- scp 就是 `secure copy`，是一个在 Linux 下用来进行 **远程拷贝文件** 的命令
- 它的**地址格式与 ssh 基本相同**，**需要注意的是**，在指定端口时用的是大写的 `-P` 而不是小写的

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210508112043.png)



```bash
# 把本地当前目录下的 01.py 文件 复制到 远程 家目录下的 Desktop/01.py
# 注意：`:` 后面的路径如果不是绝对路径，则以用户的家目录作为参照路径
scp -P port 01.py user@remote:Desktop/01.py

# 把远程 家目录下的 Desktop/01.py 文件 复制到 本地当前目录下的 01.py
scp -P port user@remote:Desktop/01.py 01.py

# 加上 -r 选项可以传送文件夹
# 把当前目录下的 demo 文件夹 复制到 远程 家目录下的 Desktop
scp -r demo user@remote:Desktop

# 把远程 家目录下的 Desktop 复制到 当前目录下的 demo 文件夹
scp -r user@remote:Desktop demo
```

| 选项 | 含义                                                         |
| :--- | :----------------------------------------------------------- |
| -r   | 若给出的源文件是目录文件，则 scp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名 |
| -P   | 若远程 SSH 服务器的端口不是 22，需要使用大写字母 -P 选项指定端口 |

> 注意：
>
> - `scp` 这个终端命令只能在 `Linux` 或者 `UNIX` 系统下使用
> - 如果在 `Windows` 系统中，可以安装 `PuTTY`，使用 `pscp` 命令行工具或者安装 `FileZilla` 使用 `FTP` 进行文件传输

> Windows10的power shell就可以直接用scp：
>
> ![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210508113756.png)



##### 3. SSH配置

> 不常用，听视频即可





### 五、用户权限相关

#### 1. 用户和权限

> 不常用

- **用户** 和 **权限** 的基本概念
- **用户管理** 终端命令
- **组管理** 终端命令
- **修改权限** 终端命令



##### 1. ls -l说明

- `ls -l` 可以查看文件夹下文件的详细信息，从左到右依次是：
  - **权限**，第 1 个字符如果是 `d` 表示目录
  - **硬链接数**，通俗地讲，就是有多少种方式，可以访问到当前目录／文件【`直观理解：tree下有几条折线+1，其中1表示目录本身里`】
  - **拥有者**，家目录下 文件／目录 的拥有者通常都是当前用户
  - **组**，`在 Linux 中，很多时候，会出现组名和用户名相同的情况`，后续会讲
  - **大小**
  - **时间**
  - **名称**

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210508151117.png)





##### 2. chmod 简单使用（重要）

- `chmod`（change model） 可以修改 **用户／组** 对 **文件／目录** 的权限
- 命令格式如下：

```bash
chmod +/-rwx 文件名|目录名
```

> 提示：以上方式会一次性修改 `拥有者` / `组` 权限，有关 `chmod` 的高级用法，后续会讲

- 如果对目录执行命令，则需要可执行：`chmod +x folder1`。如果目录不可执行，则不能cd，不能ls等等



##### 3. 超级用户

- Linux 系统中的 `root` 账号通常 **用于系统的维护和管理**，对操作系统的所有资源 **具有所有访问权限**
- 在大多数版本的 Linux 中，都不推荐 **直接使用 root 账号登录系统**
- 在 Linux 安装的过程中，系统会自动创建一个用户账号，而这个默认的用户就称为“标准用户”

sudo

- `su` 是 `substitute user` 的缩写，表示 **使用另一个用户的身份**
- `sudo` 命令用来以其他身份来执行命令，预设的身份为 `root`
- 用户使用 `sudo` 时，必须先输入密码，之后有 **5 分钟的有效期限**，超过期限则必须重新输入密码

> 若其未经授权的用户企图使用 `sudo`，则会发出警告邮件给管理员





#### 2. 组管理

> 提示：**创建组** / **删除组** 的终端命令都需要通过 `sudo` 执行

| 序号 | 命令                      | 作用                      |
| :--- | :------------------------ | :------------------------ |
| 01   | groupadd 组名             | 添加组                    |
| 02   | groupdel 组名             | 删除组                    |
| 03   | cat /etc/group            | 确认组信息                |
| 04   | chgrp -R 组名 文件/目录名 | 递归修改文件/目录的所属组 |

> 提示：
>
> - 组信息保存在 `/etc/group` 文件中
> - `/etc` 目录是专门用来保存 **系统配置信息** 的目录

- 在实际应用中，可以预先针对 **组** 设置好权限，然后 **将不同的用户添加到对应的组中**，从而**不用依次为每一个用户设置权限**

演练目标：

1. 在 `python` 用户的桌面文件夹下创建 `Python学习` 目录
2. 新建 `dev` 组
3. 将 `Python学习` 目录的组修改为 `dev`

```bash
cd Desktop/
sudo groupadd dev
sudo chgrp -R dev a
ls -l #可以看到a文件夹的所属组变成dev了
```



#### 3. 用户管理

> *提示：***创建用户** */* **删除用户** */* **修改其他用户密码** *的终端命令都需要通过* `sudo` *执行*

##### 1. 创建用户／设置密码／删除用户

| 序号 | 命令                           | 作用         | 说明                                                         |
| :--- | :----------------------------- | :----------- | :----------------------------------------------------------- |
| 01   | useradd -m -g 组 新建用户名    | 添加新用户   | -m 自动建立用户家目录-g 指定用户所在的组，否则会建立一个和同名的组 |
| 02   | passwd 用户名                  | 设置用户密码 | 如果是普通用户，直接用 passwd 可以修改自己的账户密码         |
| 03   | userdel -r 用户名              | 删除用户     | -r 选项会自动删除用户家目录                                  |
| 04   | cat /etc/passwd \| grep 用户名 | 确认用户信息 | 新建用户后，用户信息会保存在 /etc/passwd 文件中              |

> 提示：
>
> - 创建用户时，如果忘记添加 `-m` 选项指定新用户的家目录 —— 最简单的方法就是**删除用户，重新创建**
> - 创建用户时，默认会创建一个和**用户名**同名的**组名**
> - 用户信息保存在 `/etc/passwd` 文件中

> 查看用户：`ls -l /home`



##### 2. 查看用户信息

| 序号 | 命令        | 作用                       |
| :--- | :---------- | :------------------------- |
| 01   | id [用户名] | 查看用户 UID 和 GID 信息   |
| 02   | who         | 查看当前所有登录的用户列表 |
| 03   | whoami      | 查看当前登录用户的账户名   |

- passwd 文件

  `/etc/passwd` 文件存放的是用户的信息，由 6 个分号组成的 7 个信息，分别是

  1. 用户名
  2. 密码（x，表示加密的密码）
  3. UID（用户标识）
  4. GID（组标识）
  5. 用户全名或本地帐号
  6. 家目录
  7. 登录使用的 Shell，就是登录之后，使用的终端命令，`ubuntu` 默认是 `dash`



- usermod

  - `usermod` 可以用来设置 **用户** 的 **主组** ／ **附加组** 和 **登录 Shell**，命令格式如下：
  - **主组**：通常在新建用户时指定，在 `etc/passwd` 的第 4 列 **GID 对应的组**
  - **附加组**：在 `etc/group` 中最后一列表示该组的用户列表，用于指定 **用户的附加权限**

  > 提示：设置了用户的附加组之后，需要重新登录才能生效！

  ```bash
  # 修改用户的~主组~（passwd 中的 GID）
  usermod -g 组 用户名
  
  # 修改用户的~附加组~
  usermod -G 组 用户名
  
  # 修改用户登录 Shell。因为Windows下的dash有缺陷，如不能上下键，没有高亮！且只有$，没有user@machine
  usermod -s /bin/bash 用户名
  ```

  > 注意：默认使用 `useradd` 添加的用户是没有权限使用 `sudo` 以 `root` 身份执行命令的，可以使用以下命令，将用户添加到 `sudo` 附加组中

  ```bash
  usermod -G sudo 用户名
  ```



- which（重要）

  > 提示
  >
  > - `/etc/passwd` 是用于保存用户信息的文件，不可执行
  > - `/usr/bin/passwd` 是用于修改用户密码的程序

  - `which` 命令可以查看执行命令所在位置，例如：

  ```bash
  which ls
  
  # 输出
  # /bin/ls
  
  which useradd
  
  # 输出
  # /usr/sbin/useradd
  ```



- bin和sbin

  - 在 `Linux` 中，绝大多数可执行文件都是保存在 `/bin`、`/sbin`、`/usr/bin`、`/usr/sbin`
  - `/bin`（`binary`）是二进制执行文件目录，主要用于具体应用
  - `/sbin`（`system binary`）是系统管理员专用的二进制代码存放目录，主要用于系统管理
  - `/usr/bin`（`user commands for applications`）后期安装的一些软件
  - `/usr/sbin`（`super user commands for applications`）超级用户的一些管理程序

  > 提示：
  >
  > - `cd` 这个终端命令是内置在系统内核中的，没有独立的文件，因此用 `which` 无法找到 `cd` 命令的位置



##### 3. 切换用户

|      |             |                        |                                          |
| :--- | :---------- | :--------------------- | :--------------------------------------- |
| 序号 | 命令        | 作用                   | 说明                                     |
| 01   | su - 用户名 | 切换用户，并且切换目录 | - 可以切换到用户家目录，否则保持位置不变 |
| 02   | exit        | 退出当前登录账户       |                                          |

#### 4. 修改文件权限

| 序号 | 命令  | 作用       |
| :--- | :---- | :--------- |
| 01   | chown | 修改拥有者 |
| 02   | chgrp | 修改组     |
| 03   | chmod | 修改权限   |

- 命令格式如下：

```bash
# 修改文件|目录的拥有者
chown 用户名 文件名|目录名

# 递归修改文件|目录的组
chgrp -R 组名 文件名|目录名

# 递归修改文件权限
chmod -R 755 文件名|目录名
```

- `chmod` 在设置权限时，可以简单地使用三个数字分别对应 **拥有者** ／ **组** 和 **其他** 用户的权限

```bash
# 直接修改文件|目录的 读|写|执行 权限，但是不能精确到 拥有者|组|其他
chmod +/-rwx 文件名|目录名
```

- 常见数字组合有（u表示用户／g表示组／o表示其他）：
  - `777` ===> `u=rwx,g=rwx,o=rwx`
  - `755` ===> `u=rwx,g=rx,o=rx`
  - `644` ===> `u=rw,g=r,o=r`

![](https://blogjallery.oss-cn-beijing.aliyuncs.com/img/20210510213429.png)



- `chmod` 演练目标
  - 将 `01.py` 的权限修改为 `u=rwx,g=rx,o=r`
  - 将 `123.txt` 的权限修改为 `u=rw,g=r,o=-`
  - 将 `test` 目录以及目录下的 **所有** 文件权限修改为 `u=rwx,g=rwx,o=rx`





























### 六、打包压缩

- **打包压缩** 是日常工作中备份文件的一种方式
- 在不同操作系统中，常用的打包压缩方式是不同的
  - `Windows` 常用 `rar`
  - `Mac` 常用 `zip`
  - `Linux` 常用 `tar.gz`

#### 1. 打包 ／ 解包

- `tar` 是 Linux 中最常用的 **备份**工具，此命令可以 **把一系列文件** 打包到 **一个大文件中**，也可以把一个 **打包的大文件恢复成一系列文件**【只负责打包，不压缩】
- `tar` 的命令格式如下：

```bash
# 打包文件
tar -cvf 打包文件.tar 被打包的文件／路径...

# 解包文件
tar -xvf 打包文件.tar
```

- `tar` 选项说明

| 选项 | 含义                                                         |
| :--- | :----------------------------------------------------------- |
| c    | 生成档案文件，创建打包文件                                   |
| x    | 解开档案文件                                                 |
| v    | 列出归档解档的详细过程，显示进度                             |
| f    | 指定档案文件名称，f 后面一定是 .tar 文件，所以必须放选项最后 |

> 注意：`f` 选项必须放在最后，其他选项顺序可以随意

##### x. 打包解包演练

1. 删除桌面下的所有内容
2. 在桌面下新建三个空白文件 `01.py`、`02.py`、`03.py`
3. 将这三个文件打一个 `py.tar` 的包
4. 新建 `tar` 目录，并且将 `py.tar` 移动到 `tar` 目录下
5. 解包 `py.tar`



#### 2. gzip

- tar与 gzip命令结合可以使用实现文件打包和压缩
  - `tar` 只负责打包文件，但不压缩
  - 用 `gzip` 压缩 `tar` 打包后的文件，其扩展名一般用 `xxx.tar.gz`

> 在 `Linux` 中，最常见的压缩文件格式就是 `xxx.tar.gz`

- 在 `tar` 命令中有一个选项 **-z** 可以调用 `gzip`，从而可以方便的实现压缩和解压缩的功能
- 命令格式如下：

```bash
# 压缩文件
tar -zcvf 打包文件.tar.gz 被压缩的文件／路径...

# 解压缩文件
tar -zxvf 打包文件.tar.gz

# 解压缩到指定路径
tar -zxvf 打包文件.tar.gz -C 目标路径
```

| 选项 | 含义                                           |
| :--- | :--------------------------------------------- |
| -C   | 解压缩到指定目录，注意：要解压缩的目录必须存在 |

#### 3. bzip2(two)

- `tar` 与 `bzip2` 命令结合可以使用实现文件 **打包和压缩**（用法和 `gzip` 一样）
  - `tar` 只负责打包文件，但不压缩，
  - 用 `bzip2` 压缩 `tar` 打包后的文件，其扩展名一般用 `xxx.tar.bz2`
- 在 `tar` 命令中有一个选项 **-j** 可以调用 `bzip2`，从而可以方便的实现压缩和解压缩的功能
- 命令格式如下：

```bash
# 压缩文件
tar -jcvf 打包文件.tar.bz2 被压缩的文件／路径...

# 解压缩文件
tar -jxvf 打包文件.tar.bz2
```



---

> 0512

---

























### 参考资料

- [黑马—Ubuntu教程](https://www.bilibili.com/video/BV1W4411A7yf?p=36&spm_id_from=pageDriver)

#### 

